package com.service.policy.service;

import java.util.List;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;

import com.service.policy.entity.Policy;
import com.service.policy.exceptions.CustomExceptions;
import com.service.policy.repo.PolicyRepo;

@Service
public class PolicyServiceImpl implements PolicyService{

	@Autowired PolicyRepo policyRepo;
	@Override
	public Policy createPolicy(Policy policy) {
		return policyRepo.save(policy);
	}
	
	
	
	@Override
	public Policy updatePolicy(String email) {
		// TODO Auto-generated method stub
		return null;
	}



	@Override
	public List<Policy> findByEmail(String email) {
		List<Policy> policies = policyRepo.findByOrgEmail(email);
		if(!policies.isEmpty()) {
			return policies;
		}
      throw new CustomExceptions("policy not found with email : ", email)
	}

}
